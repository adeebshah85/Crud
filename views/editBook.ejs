<%- include('partials/header') %>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">

<style>
  .bootstrap-select .bs-ok-default::after {
    width: 0.3em;
    height: 0.6em;
    border-width: 0 0.1em 0.1em 0;
    transform: rotate(45deg) translateY(0.5rem);
}

.btn.dropdown-toggle:focus {
    outline: none !important;
}
</style>

<!-- /////////////////////    Page start ////////////////////-->

<div class="row form-header">
  <div class="col">
    <h1 class="">DOWNTOWN BOOKSTORE</h1>
  </div>
  <div style="text-align: right;" class="col">
    <button  style="margin-right: 15px;" class="btn btn-warning btn-lg "><a href="/book-list">BOOK LIST</a></button>
    <a class="btn btn-primary btn-lg"  href="/">HOME</a>
  </div>
  
</div>
<hr>
<div class=" col-md-8">
  
  <h2  class="form-group ">Edit Book</h2>
  
  <!--///////////////////     FORM START      ////////////////////-->

  <form action="/edit-book/<%= book._id %> " method="post">

    <div class="form-group">
      <label for="title">Title</label>
      <input name="title" type="text" width class="form-control" id="title" placeholder="Book Name" value="<%= book.title %>" autocomplete="off" required>
    </div>
    <div class="form-group">
      <label for="author">Author(s)</label>
      <input name="author" type="text" class="form-control" id="author" value="<%= book.author %>" autocomplete="off" placeholder="Seperate multiple authors with commas "  required>
    </div>
    <div class="row">
      <div class="form-group col-6">
        <label for="isbn">ISBN</label>
        <input name="isbn" type="text" class="form-control " id="isbn" value="<%= book.isbn %>" autocomplete="off" required>
      </div>
      <div class="form-group col-6">
        <label for="lang">Book Language</label>
        <select name="lang" class="form-control" id="lang" value="<%= book.language %>" autocomplete="off"  required>
          <option>English</option>
          <option>Urdu</option>
          <option>Kashmiri</option>
          <option>Other</option>
        </select>
      </div>
    </div>
    
    <!-- genre add -->
   
    
   
      <div class="form-group ">
          <label >Genre(s)</label>
          <!-- Multiselect dropdown -->
          <select name="genre" multiple data-style="bg-white rounded-pill px-4 py-3 shadow-sm " class="selectpicker w-100" value="<%= book.genre %>" autocomplete="off" required  >
              
              <option value="thriller">Thriller</option>
              <option value="mystery">Mystery</option>
              <option value="romantic">Romantic</option>
              <option value="poetry">Poetry</option>
              <option value="fiction">Fiction</option>
              <option value="non fiction">Non-fiction</option>
              <option value="text book">Text-Book</option>
              <option value="horror">Horror</option>
              <option value="crime">Crime</option>
              <option value="self help">Self help</option>
              <option value="other">Other</option>


          </select><!-- End -->
      </div>
 
  


    <!-- genre add -->


   


    <div class="row">
      <div class="col-6 form-group">
        <label for="pub">Publisher</label>
        <input name="pub" type="text" class="form-control" value="<%= book.publisher %>" autocomplete="off" placeholder="Publisher Name" id="pub" required>
      </div>
      <div class="col-3 form-group">
        <label for="puby">Published Year</label>
        <input name="puby" type="text" class="form-control" value="<%= book.published_year %>" autocomplete="off" id="puby" required>
      </div>
      <div class="col-3 form-group">
        <label for="price">Price</label>
        <input name="price" type="text" class="form-control" value="<%= book.price %>" autocomplete="off" placeholder="In Rupees" id="price" required>
      </div>
    </div>
    
    <div class="form-group">
      <label for="desc">Description</label>
      <textarea name="desc" id="desc" cols="30" class="form-control" rows="4" value="" autocomplete="off" required ><%= book.description %></textarea>
    </div>
    
    
    

<button style="margin: 40px 0px;" 
type="button" onclick="upd()"  class="btn btn-warning btn-lg">Update Book</button>    

<button id="upd-b" 
type="submit" hidden ></button>    

 
<button style="margin: 40px 20px;" 
type="button"  onclick="window.location.href = '/view-book/<%= book._id %>';" class="btn btn-primary btn-lg">Cancel</button>    
 
<!-- /////////////////  FORM END    ////////////////-->

  </form>

</div>

<!-- bootstrap scripts -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
<script>
  $(function () {
    $('.selectpicker').selectpicker();
});

function upd(){
    var r = confirm("Press OK to confirm Updation!");
    if (r == true) {
      document.getElementById("upd-b").click();
    } 
}


</script>
</body>
</html>



